<div>

    <p>8f4e is a stack oriented programming language with a visual code editor that I created to perform generative
        music at algorave events.</p>
    <p>Its primary target is the WebAssembly virtual machine, as I wanted an efficient yet portable tool for real time
        audio signal generation and processing.</p>
</div>
<div>
    <a href="https://editor.8f4e.com">Launch the Editor</a>
</div>

<div>
    <p>
        Stack oriented programming means that instead of using registers, instructions take their operands
        from a stack, and
        push their results back onto the same stack for the next instruction.
    </p>

    <p>I chose this programming paradigm because the WebAssembly virtual machine is
        itself a stack machine.</p>

    <p>Staying native to this execution model avoids costly abstractions and makes it possible to build a simpler and
        faster compiler.</p>
</div>

<div>
    <pre>
<span class="instruction">push</span> 2
<span class="instruction">push</span> 3
<span class="comment">; Pushing values 2 and 3 onto the stack.</span>
<span class="instruction">add</span>
<span class="comment">; After executing the add instruction,</span>
<span class="comment">; the stack will contain the value 5</span>

<span class="instruction">push</span> 10
<span class="instruction">mul</span>
<span class="comment">; Now the stack will contain the value 50</span>

<span class="instruction">push</span> 10
<span class="instruction">div</span>
<span class="comment">; Now 5 again</span>
</pre>
</div>

<div>
    <p>It's also possible to take values from the stack and store them in the memory.</p>
    <p>The language utilizes C-style pointer
        notations.</p>
</div>
<div>
    <pre><span class="instruction">int</span> result 

<span class="instruction">push</span> &result
<span class="instruction">push</span> 42
<span class="instruction">store</span>
<span class="comment">; The store instruction takes two values: 
<span class="comment">; a memory address and the value to store.</span>
</pre>
</div>


<div>Programs in 8f4e run inside an endless loop. This reflects how real time audio systems operate, where
    processing consists of continuously reading from and writing to audio buffers.</p>
    <p>8f4e removes this control flow boilerplate and allows programs to focus purely on signal generation and
        transformation.</p>
</div>


<div>
    <pre>
<span class="comment">; Assuming word size is 4 bytes</span>
<span class="comment">; Memory address of a is 0x1000</span>
    </pre>

</div>

<div>
    <p>In 8f4e, variables declared sequentially in the code are allocated in adjacent memory locations.</p>
    <p>Runtime memory allocation is not supported, developers must pre-plan their software's memory needs during coding.
    </p>
</div>

<div>
    <pre><span class="instruction">int</span> a 1
<span class="instruction">int</span> b 1
<span class="comment">; Memory address of b is a + word size</span>
<span class="instruction">int</span> c 1
<span class="comment">; Memory address of c is b + word size</span></pre>
</div>


<div>
    <p>The code is organized into modules, each containing variable declarations and a sequence of commands.</p>
    <p>The execution order of the code modules is determined by their dependencies. If a module's output is needed as
        input for others, it is executed first.</p>
</div>
<div>
    <pre><span class="instruction">module</span> foo

<span class="instruction">int</span> a 10
<span class="instruction">int</span> b 20
<span class="instruction">int</span> result

<span class="instruction">push</span> &result
<span class="instruction">push</span> a
<span class="instruction">push</span> b
<span class="instruction">add</span>
<span class="instruction">store</span>
<span class="instruction">moduleEnd</span>
</pre>
</div>

<div>It supports real-time manual modification of variable values while the program is running, without needing
    recompilation.</div>
<div>
    <pre><span class="instruction">int</span> foo 10
<span class="comment">; You can change these values in the editor</span>
<span class="comment">; while the program is running.</span>
<span class="instruction">int</span> bar 20
<span class="comment">; The editor will trace them back in the memory</span>
<span class="comment">; and update their values without restarting</span>
<span class="comment">; or recompiling the program.</span>
</pre>
</div>

<div>
    <p>All variables in 8f4e are inherently public, with no option to modify visibility.</p>
    <p> Also, it's not memory safe,
        pointers can point to anything within the memory space of the program, but the wires help developers to find
        where
        their pointers are pointing.</p>
</div>

<div>
    <pre>
<span class="instruction">int*</span> pointer

<span class="instruction">push</span> &pointer
<span class="instruction">push</span> pointer
<span class="instruction">push</span> WORD_SIZE
<span class="instruction">push</span> add
<span class="instruction">store</span>

<span class="comment">; pointer will iterate through all</span>
<span class="comment">; possible memory addresses.</span>
</pre>
</div>
</div>